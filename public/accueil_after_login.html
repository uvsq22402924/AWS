<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="FilmScope - D√©couvrez les meilleures critiques de films et s√©ries. Notez, partagez, explorez." />
  <title>Accueil | FilmScope</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;1,700&display=swap"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
  />
  <link rel="stylesheet" href="style1.css" />

  <script>
    const BASE_URL =
      window.location.hostname === "localhost"
        ? "http://localhost:5001"
        : "https://aws-t4a4.onrender.com";

    async function fetchUserInfo() {
      console.log("üîç Envoi de la requ√™te √† /api/current");
      try {
        const response = await fetch(`${BASE_URL}/api/current`, {
          credentials: "include",
        });

        if (response.ok) {
          const user = await response.json();
          console.log("‚úÖ R√©ponse re√ßue :", user);
          document.getElementById("userDropdown").innerText = user.name;
        } else {
          console.warn("‚ùå Utilisateur non connect√©");
        }
      } catch (error) {
        console.error(
          "Erreur lors de la r√©cup√©ration des informations utilisateur:",
          error
        );
      }
    }

    window.addEventListener("DOMContentLoaded", fetchUserInfo);
  </script>
</head>

<body>
  <div class="header">
    <div class="menu">
      <ul class="menu-content">
        <li>
          <a href="accueil_after_login.html"
            ><span class="material-symbols-outlined">home</span><span>Accueil</span></a
          >
        </li>
        <li>
          <a href="films.html"
            ><span class="material-symbols-outlined">movie</span><span>Regarder</span></a
          >
        </li>
        <li>
          <a href="profil.html"
            ><span class="material-symbols-outlined">person</span><span>Profil</span></a
          >
        </li>
        <li>
          <a href="#"
            ><span class="material-symbols-outlined">report</span><span>Report</span></a
          >
        </li>
        <li>
          <a href="#"
            ><span class="material-symbols-outlined">email</span><span>Contactez-nous</span></a
          >
        </li>
        <li>
          <a href="/logout"
            ><span class="material-symbols-outlined">logout</span><span>Logout</span></a
          >
        </li>
      </ul>
    </div>

    <nav>
      <img src="images/reed.png" class="logo" alt="Logo FilmScope" />
      <div>
        <button class="language-btn">
          Fran√ßais<img src="images/langue (1).png" />
        </button>
        <div class="dropdown">
          <button id="userDropdown" class="dropbtn">UserID</button>
          <div class="dropdown-content">
            <a href="profil.html">Votre profil</a>
            <a href="watchlist.html">Votre watchlist</a>
            <a href="modifier_profil.html">Param√®tre du compte</a>
            <a href="/logout">D√©connexion</a>
          </div>
        </div>
      </div>
    </nav>

    <div class="header-content">
      <h1>D√©couvrez les meilleures critiques</h1>
      <h3>Plongez dans l'univers du cin√©ma avec des revues passionnantes.</h3>
      <p>
        D√©couvrez, notez et partagez vos avis sur les films ! Inscrivez-vous d√®s
        maintenant.
      </p>

      <form class="search-bar" action="search.html" method="get">
        <input
          type="text"
          placeholder="Rechercher un film, une s√©rie..."
          name="query"
          required
        />
        <button type="submit">Rechercher</button>
      </form>
    </div>
  </div>

  <div class="features"></div>

  <div>
    <ul class="accordion">
      <li>
        <h2>Questions Fr√©quemment Pos√©es</h2>
        <input type="radio" name="accordion" id="first" />
        <label for="first">Pourquoi lire des revues de films ?</label>
        <div class="content">
          <p>
            Les revues de films vous aident √† d√©couvrir si un film correspond √†
            vos go√ªts avant de le regarder. Elles offrent des analyses
            d√©taill√©es sur les points forts et faibles de chaque film. Lire des
            critiques peut enrichir votre compr√©hension des ≈ìuvres
            cin√©matographiques.
          </p>
        </div>
      </li>
      <li>
        <input type="radio" name="accordion" id="second" />
        <label for="second"
          >Quels types de films puis-je trouver ici ?</label
        >
        <div class="content">
          <p>
            Notre site couvre une vari√©t√© de genres, y compris l'action, le
            drame, la com√©die, la science-fiction, et bien plus encore. Nous
            incluons des films r√©cents ainsi que des classiques du cin√©ma.
            Chaque revue explore en profondeur les th√®mes et l'impact du film.
          </p>
        </div>
      </li>
      <li>
        <input type="radio" name="accordion" id="third" />
        <label for="third"> Comment puis-je donner mon avis sur un film ?</label>
        <div class="content">
          <p>
            Il suffit de cr√©er un compte sur notre site et de naviguer vers la
            section "Donnez votre avis". Vous pouvez noter le film, √©crire une
            critique et partager votre exp√©rience avec notre communaut√©. Vos
            contributions enrichissent le contenu pour tous les visiteurs.
          </p>
        </div>
      </li>
      <li>
        <input type="radio" name="accordion" id="fourth" />
        <label for="fourth"
          >O√π puis-je regarder les films mentionn√©s ?</label
        >
        <div class="content">
          <p>
            Pour chaque film, nous indiquons les plateformes o√π il est
            disponible (Netflix, Amazon Prime, Disney+, etc.). Certains films
            peuvent √©galement √™tre visionn√©s en salle de cin√©ma ou achet√©s en
            format DVD/Blu-ray.
          </p>
        </div>
      </li>
    </ul>
  </div>

  <div class="footer">
    <h2>Questions</h2>
    <div class="row">
      <div class="col">
        <a href="#">FAQ</a>
        <a href="#">Investor Relations</a>
        <a href="#">Privacy</a>
        <a href="fast.com">Speed Test</a>
      </div>

      <div class="col">
        <a href="#">Help</a>
        <a href="#">Jobs</a>
        <a href="#">Cookies Preferences</a>
        <a href="#">Legal Notices</a>
      </div>

      <div class="col">
        <a href="#">Account</a>
        <a href="#">Ways to Watch</a>
        <a href="#">Contact US</a>
        <a href="#">Only Here</a>
      </div>

      <button class="language-btn">
        Fran√ßais<img src="images/langue (1).png" />
      </button>
    </div>
  </div>

  <script>
    function openNav() {
      document.getElementById("mySidenav").style.width = "250px";
    }

    function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
    }
  </script>
</body>

</html>